{
  "filename": "plugin-rateLimiter.md",
  "__html": "<h2>说明</h2>\n<ul>\n<li>\n<p>限流插件，是网关对流量管控限制核心的实现。</p>\n</li>\n<li>\n<p>可以到接口级别，也可以到参数级别，具体怎么用，还得看你对流量配置。</p>\n</li>\n</ul>\n<h2>技术方案</h2>\n<ul>\n<li>\n<p>采用redis令牌桶算法进行限流。</p>\n</li>\n<li>\n<p>流程图：\n<img src=\"https://yu199195.github.io/images/soul/limiting.png\" alt=\"\"></p>\n</li>\n</ul>\n<h2>插件设置</h2>\n<ul>\n<li>\n<p>在 <code>soul-admin</code>--&gt; 插件管理--&gt; <code>rate_limiter</code> 将其设置为开启。</p>\n</li>\n<li>\n<p>在插件中，对redis进行配置。</p>\n</li>\n<li>\n<p>目前支持redis的单机，哨兵，以及集群模式。</p>\n</li>\n<li>\n<p>如果是哨兵，集群等多节点的，在URL中的配置，请对每个实列使用 <code>;</code> 分割. 如 192.168.1.1:6379;192.168.1.2:6379。</p>\n</li>\n<li>\n<p>如果用户无需使用，在admin后台把插件禁用。</p>\n</li>\n</ul>\n<h2>插件使用</h2>\n<ul>\n<li>在网关的 pom.xml 文件中添加 rateLimiter的支持。</li>\n</ul>\n<pre><code class=\"language-xml\">  <span class=\"hljs-comment\">&lt;!-- soul ratelimiter plugin start--&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.dromara<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>soul-spring-boot-starter-plugin-ratelimiter<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>2.2.0<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n  <span class=\"hljs-comment\">&lt;!-- soul ratelimiter plugin end--&gt;</span>\n</code></pre>\n<ul>\n<li>\n<p>选择器和规则，请详细看 : <a href=\"selector.md\">选择器规则</a>。</p>\n</li>\n<li>\n<p>速率：是你允许用户每秒执行多少请求，而丢弃任何请求。这是令牌桶的填充速率。</p>\n</li>\n<li>\n<p>容量 ：是允许用户在一秒钟内执行的最大请求数。这是令牌桶可以保存的令牌数。</p>\n</li>\n</ul>\n",
  "link": "\\zh-cn\\docs\\soul\\plugin-rateLimiter.html",
  "meta": {
    "title": "rateLimiter插件",
    "keywords": "rateLimiter",
    "description": "rateLimiter插件"
  }
}