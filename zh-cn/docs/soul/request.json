{
  "filename": "request.md",
  "__html": "<ul>\n<li>Soul是对接Http请求的网关，所以对请求参数有自己的规定。</li>\n<li>请求参数格式如下：\n网关的请求参数为：</li>\n</ul>\n<pre><code class=\"language-java\"><span class=\"hljs-keyword\">package</span> org.dromara.soul.web.request;\n\n<span class=\"hljs-keyword\">import</span> lombok.Data;\n<span class=\"hljs-keyword\">import</span> org.dromara.soul.common.constant.Constants;\n<span class=\"hljs-keyword\">import</span> org.dromara.soul.common.enums.HttpMethodEnum;\n<span class=\"hljs-keyword\">import</span> org.dromara.soul.common.enums.RpcTypeEnum;\n<span class=\"hljs-keyword\">import</span> org.springframework.http.server.reactive.ServerHttpRequest;\n\n<span class=\"hljs-keyword\">import</span> java.io.Serializable;\n\n<span class=\"hljs-comment\">/**\n * the soul request DTO .\n *\n * <span class=\"hljs-doctag\">@author</span> xiaoyu(Myth)\n */</span>\n<span class=\"hljs-meta\">@Data</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">RequestDTO</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title\">Serializable</span> </span>{\n\n    <span class=\"hljs-comment\">/**\n     * is module data.\n     */</span>\n    <span class=\"hljs-keyword\">private</span> String <span class=\"hljs-keyword\">module</span>;\n\n    <span class=\"hljs-comment\">/**\n     * is method name .\n     */</span>\n    <span class=\"hljs-keyword\">private</span> String method;\n\n    <span class=\"hljs-comment\">/**\n     *  is rpcType data.  now we only support \"http\",\"dubbo\" \"motan\",\"grpc\".\n     *  {<span class=\"hljs-doctag\">@linkplain</span> RpcTypeEnum}\n     */</span>\n    <span class=\"hljs-keyword\">private</span> String rpcType;\n\n    <span class=\"hljs-comment\">/**\n     *  httpMethod  now we only support \"get\",\"post\" .\n     * {<span class=\"hljs-doctag\">@linkplain</span>  HttpMethodEnum}\n     */</span>\n    <span class=\"hljs-keyword\">private</span> String httpMethod;\n\n    <span class=\"hljs-comment\">/**\n     * this is sign .\n     */</span>\n    <span class=\"hljs-keyword\">private</span> String sign;\n\n    <span class=\"hljs-comment\">/**\n     * timestamp .\n     */</span>\n    <span class=\"hljs-keyword\">private</span> String timestamp;\n\n    <span class=\"hljs-comment\">/**\n     * appKey .\n     */</span>\n    <span class=\"hljs-keyword\">private</span> String appKey;\n\n    <span class=\"hljs-comment\">/**\n     * content is json data.\n     */</span>\n    <span class=\"hljs-keyword\">private</span> String content;\n\n    <span class=\"hljs-comment\">/**\n     * extInfo is json data .\n     */</span>\n    <span class=\"hljs-keyword\">private</span> String extInfo;\n\n    <span class=\"hljs-comment\">/**\n     * ServerHttpRequest transform RequestDTO .\n     *\n     * <span class=\"hljs-doctag\">@param</span> request {<span class=\"hljs-doctag\">@linkplain</span> ServerHttpRequest}\n     * <span class=\"hljs-doctag\">@return</span> RequestDTO request dto\n     */</span>\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> RequestDTO <span class=\"hljs-title\">transform</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">final</span> ServerHttpRequest request)</span> </span>{\n        <span class=\"hljs-keyword\">final</span> String <span class=\"hljs-keyword\">module</span> = request.getHeaders().getFirst(Constants.MODULE);\n        <span class=\"hljs-keyword\">final</span> String method = request.getHeaders().getFirst(Constants.METHOD);\n        <span class=\"hljs-keyword\">final</span> String appKey = request.getHeaders().getFirst(Constants.APP_KEY);\n        <span class=\"hljs-keyword\">final</span> String httpMethod = request.getHeaders().getFirst(Constants.HTTP_METHOD);\n        <span class=\"hljs-keyword\">final</span> String rpcType = request.getHeaders().getFirst(Constants.RPC_TYPE);\n        <span class=\"hljs-keyword\">final</span> String sign = request.getHeaders().getFirst(Constants.SIGN);\n        <span class=\"hljs-keyword\">final</span> String timestamp = request.getHeaders().getFirst(Constants.TIMESTAMP);\n        RequestDTO requestDTO = <span class=\"hljs-keyword\">new</span> RequestDTO();\n        requestDTO.setModule(<span class=\"hljs-keyword\">module</span>);\n        requestDTO.setMethod(method);\n        requestDTO.setAppKey(appKey);\n        requestDTO.setHttpMethod(httpMethod);\n        requestDTO.setRpcType(rpcType);\n        requestDTO.setSign(sign);\n        requestDTO.setTimestamp(timestamp);\n        <span class=\"hljs-keyword\">return</span> requestDTO;\n    }\n\n}\n\n</code></pre>\n<ul>\n<li>参数都需要通过Http请求头进行设置，请求头的字段在使用文档中介绍。当然用户也可以自己定义额外增加字段。</li>\n</ul>\n",
  "title": "请求参数设计",
  "keywords": "request",
  "description": "请求参数设计"
}