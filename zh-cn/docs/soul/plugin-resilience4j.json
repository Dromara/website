{
  "filename": "plugin-resilience4j.md",
  "__html": "<h2>说明</h2>\n<ul>\n<li>\n<p>resilience4j插件是网关用来对流量进行限流与熔断的可选选择之一。</p>\n</li>\n<li>\n<p>resilience4j为网关熔断限流提供能力。</p>\n</li>\n</ul>\n<h2>插件设置</h2>\n<ul>\n<li>\n<p>在 <code>soul-admin</code> --&gt;  插件管理 --&gt; <code>resilience4j</code>，设置为开启。</p>\n</li>\n<li>\n<p>如果用户不使用，则在 <code>soul-admin</code> 后台把此插件停用。</p>\n</li>\n</ul>\n<h2>插件使用</h2>\n<ul>\n<li>在网关的 pom.xml 文件中添加 resilience4j的支持。</li>\n</ul>\n<pre><code class=\"language-xml\">  <span class=\"hljs-comment\">&lt;!-- soul resilience4j plugin start--&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.dromara<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>soul-spring-boot-starter-plugin-resilience4j<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>${last.version}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n  <span class=\"hljs-comment\">&lt;!-- soul resilience4j plugin end--&gt;</span>\n</code></pre>\n<ul>\n<li>\n<p>选择器和规则，请详细看：<a href=\"selector.md\">选择器规则</a></p>\n</li>\n<li>\n<p>Resilience4j处理详解：</p>\n<ul>\n<li>\n<p>timeoutDurationRate：等待获取令牌的超时时间，单位ms，默认值：5000。</p>\n</li>\n<li>\n<p>limitRefreshPeriod：刷新令牌的时间间隔，单位ms，默认值：500。</p>\n</li>\n<li>\n<p>limitForPeriod：每次刷新令牌的数量，默认值：50。</p>\n</li>\n<li>\n<p>circuitEnable：是否开启熔断，0：关闭，1：开启，默认值：0。</p>\n</li>\n<li>\n<p>timeoutDuration：熔断超时时间，单位ms，默认值：30000。</p>\n</li>\n<li>\n<p>fallbackUri：降级处理的uri。</p>\n</li>\n<li>\n<p>slidingWindowSize：滑动窗口大小，默认值：100。</p>\n</li>\n<li>\n<p>slidingWindowType：滑动窗口类型，0：基于计数，1：基于时间，默认值：0。</p>\n</li>\n<li>\n<p>minimumNumberOfCalls：开启熔断的最小请求数，超过这个请求数才开启熔断统计，默认值：100。</p>\n</li>\n<li>\n<p>waitIntervalFunctionInOpenState：熔断器开启持续时间，单位ms，默认值：10。</p>\n</li>\n<li>\n<p>permittedNumberOfCallsInHalfOpenState：半开状态下的环形缓冲区大小，必须达到此数量才会计算失败率，默认值：10。</p>\n</li>\n<li>\n<p>failureRateThreshold：错误率百分比，达到这个阈值，熔断器才会开启，默认值50。</p>\n</li>\n<li>\n<p>automaticTransitionFromOpenToHalfOpenEnabled：是否自动从open状态转换为half-open状态，,true：是，false：否，默认值：false。</p>\n</li>\n</ul>\n</li>\n</ul>\n",
  "link": "/zh-cn/docs/soul/plugin-resilience4j.html",
  "meta": {
    "title": "resilience4j插件",
    "keywords": "soul",
    "description": "resilience4j插件"
  }
}