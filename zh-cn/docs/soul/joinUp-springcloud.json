{
  "filename": "joinUp-springcloud.md",
  "__html": "<h2>说明</h2>\n<ul>\n<li>\n<p>此篇文章是教你如何把自己的项目中的接口，快速接入到soul网关.</p>\n</li>\n<li>\n<p>只适合springboot用户.</p>\n</li>\n<li>\n<p>接入前，请正确的启动 <code>soul-admin</code> ,<code>soul-bootstrap</code>.</p>\n</li>\n</ul>\n<h2>springcloud 用户</h2>\n<ul>\n<li>引入jar包，在你的提供者服务里面</li>\n</ul>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;org.dromara&lt;/groupId&gt;\n     &lt;artifactId&gt;soul-client-springcloud&lt;/artifactId&gt;\n     &lt;version&gt;2.1.2-RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>yml配置</li>\n</ul>\n<pre><code class=\"language-yml\"><span class=\"hljs-attr\">soul:</span>\n  <span class=\"hljs-attr\">springcloud:</span>\n    <span class=\"hljs-attr\">adminUrl:</span> <span class=\"hljs-string\">http://localhost:9095</span>\n    <span class=\"hljs-attr\">contextPath:</span> <span class=\"hljs-string\">/http</span>\n    <span class=\"hljs-attr\">appName:</span> <span class=\"hljs-string\">http</span>\n<span class=\"hljs-comment\"># adminUrl: 为你启动的soul-admin 项目的ip + 端口，注意要加http://</span>\n<span class=\"hljs-comment\"># contextPath: 为你的这个mvc项目在soul网关的路由前缀，这个你应该懂意思把？ 比如/order ，/product 等等，网关会根据你的这个前缀来进行路由.</span>\n<span class=\"hljs-comment\"># appName：你的应用名称，不配置的话，会默认取 `spring.application.name` 的值</span>\n</code></pre>\n<ul>\n<li>在你的 <code>controller</code>的接口上加上 <code>SoulClient</code> 注解</li>\n</ul>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE, ElementType.METHOD})\npublic @interface SoulClient {\n\n    /**\n     * 提供出去的接口路径，注意这里是真实的路径，和你的controller中的方法路径一样.\n     * Path string.\n     *\n     * @return the string\n     */\n    String path();\n\n    /**\n     * 接口路径描述,方便用户选择.\n     *\n     * @return String\n     */\n    String desc();\n\n    /**\n     * Enabled boolean.\n     *\n     * @return the boolean\n     */\n    boolean enabled() default true;\n</code></pre>\n<ul>\n<li>\n<p>最后一步，配置 <code>soul-bootstrap</code> 中的 springcloud注册中心,然后启动项目.</p>\n</li>\n<li>\n<p>如果你使用 <code>eureka</code> 做为springcloud的注册中心</p>\n</li>\n</ul>\n<ol>\n<li>在 <code>soul-bootstrap</code> 的 pom.xml 文件引入如下2个jar包</li>\n</ol>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n     &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>增加如下配置</li>\n</ol>\n<pre><code class=\"language-yml\"><span class=\"hljs-attr\">eureka:</span>\n  <span class=\"hljs-attr\">instance:</span>\n    <span class=\"hljs-attr\">leaseRenewalIntervalInSeconds:</span> <span class=\"hljs-number\">10</span>\n    <span class=\"hljs-attr\">leaseExpirationDurationInSeconds:</span> <span class=\"hljs-number\">30</span>\n  <span class=\"hljs-attr\">client:</span>\n    <span class=\"hljs-attr\">serviceUrl:</span>\n      <span class=\"hljs-attr\">defaultZone:</span> <span class=\"hljs-string\">http://localhost:8761/eureka/</span>   <span class=\"hljs-string\">你的地址</span>\n</code></pre>\n<ul>\n<li>如果你使用 <code>nacos</code> 做为springcloud的注册中心</li>\n</ul>\n<ol>\n<li>在 <code>soul-bootstrap</code> 的 pom.xml 文件引入如下jar包</li>\n</ol>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>增加如下配置</li>\n</ol>\n<pre><code class=\"language-yml\"><span class=\"hljs-attr\">spring:</span>\n   <span class=\"hljs-attr\">main:</span>\n     <span class=\"hljs-attr\">allow-bean-definition-overriding:</span> <span class=\"hljs-literal\">true</span>\n   <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">soul-bootstrap</span>\n   <span class=\"hljs-attr\">cloud:</span>\n     <span class=\"hljs-attr\">nacos:</span>\n      <span class=\"hljs-attr\">discovery:</span>\n        <span class=\"hljs-attr\">server-addr:</span> <span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span><span class=\"hljs-string\">:8848</span>  <span class=\"hljs-string\">你的地址</span>\n</code></pre>\n<ul>\n<li>启动你的项目，标上 <code>soulClient</code> 的方法已经注册到soul网关. 如果有不懂的，可以参考<code>soul-http-springcloud</code></li>\n</ul>\n<h2>插件设置</h2>\n<ul>\n<li>在 <code>soul-admin</code> 插件管理中，把 springCloud插件设置为开启。</li>\n</ul>\n",
  "link": "\\zh-cn\\docs\\soul\\joinUp-springcloud.html",
  "meta": {
    "title": "接入soul网关",
    "keywords": "soul",
    "description": "接入soul网关"
  }
}