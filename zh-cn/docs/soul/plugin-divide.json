{
  "filename": "plugin-divide.md",
  "__html": "<h2>说明</h2>\n<ul>\n<li>divide插件是网关处理 <code>http协议</code>请求的核心处理插件。</li>\n</ul>\n<h2>插件设置</h2>\n<ul>\n<li>\n<p>开启插件, <code>soul-admin</code> --&gt; 插件管理--&gt; <code>divide</code> 设置为启用。</p>\n</li>\n<li>\n<p>divide插件，配合如下 starter一起才能生效，具体请看：<a href=\"user-http.md\">http用户</a>。</p>\n</li>\n</ul>\n<pre><code class=\"language-xml\">  <span class=\"hljs-comment\">&lt;!--if you use http proxy start this--&gt;</span>\n   <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.dromara<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>soul-spring-boot-starter-plugin-divide<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>${last.version}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n   <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n   <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.dromara<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>soul-spring-boot-starter-plugin-httpclient<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>${last.version}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n   <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n</code></pre>\n<h2>插件讲解</h2>\n<ul>\n<li>\n<p>divide插件是进行http正向代理的插件，所有http类型的请求，都是由该插件进行负载均衡的调用。</p>\n</li>\n<li>\n<p>选择器和规则，请详细看 : <a href=\"selector.md\">选择器规则</a>。</p>\n</li>\n<li>\n<p>http配置，是网关匹配到流量以后，真实调用的http配置，可以配置多个，设置负载均衡权重，具体的负载均衡策略，在规则中指定。</p>\n<ul>\n<li>\n<p>配置详解 ：</p>\n<ul>\n<li>\n<p>第一个框：hostName，一般填写 <code>localhost</code>,该字段暂时没使用。</p>\n</li>\n<li>\n<p>第二个框：http协议，一般填写 <code>http://</code> 或者 <code>https://</code> ,不填写默认为:<code>http://</code></p>\n</li>\n<li>\n<p>第三个框：ip与端口，这里填写你真实服务的 ip + 端口。</p>\n</li>\n<li>\n<p>第四个框：负载均衡权重。</p>\n</li>\n</ul>\n</li>\n<li>\n<p>ip + port 检测</p>\n<ul>\n<li>\n<p>在soul-admin 会有一个定时任务来扫描 配置的ip端口，如果发现下线，则会除该 ip + port</p>\n</li>\n<li>\n<p>可以进行如下配置 ：</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<pre><code class=\"language-yaml\">      <span class=\"hljs-string\">soul.upstream.check:true</span>  <span class=\"hljs-string\">默认为</span> <span class=\"hljs-string\">ture，设置为false，不检测</span>\n      <span class=\"hljs-string\">soul.upstream.scheduledTime:10</span>  <span class=\"hljs-string\">定时检测时间间隔，默认10秒</span>\n</code></pre>\n",
  "link": "\\zh-cn\\docs\\soul\\plugin-divide.html",
  "meta": {
    "title": "divide插件",
    "keywords": "divide",
    "description": "divide插件"
  }
}