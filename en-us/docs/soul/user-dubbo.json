{
  "filename": "user-dubbo.md",
  "__html": "<h2>Features</h2>\n<ul>\n<li>\n<p>This chapter is a guide about integrating dubbo service with soul gateway.</p>\n</li>\n<li>\n<p>Support alibaba dubbo（&lt; 2.7.x）and apache dubbo (&gt;=2.7.x).</p>\n</li>\n<li>\n<p>Pls start <code>soul-admin</code> successfully beofore integrating , and <a href=\"setup.md\">Environement Setup</a> is Ok.</p>\n</li>\n</ul>\n<h2>Configure soul gateway as dubbo proxy</h2>\n<ul>\n<li>\n<p>Add these dependencies in gateway's <code>pom.xml</code>：</p>\n<ul>\n<li>alibaba dubbo user, configure the dubbo version and registry center with yours.</li>\n</ul>\n</li>\n</ul>\n<pre><code class=\"language-xml\"> \n         <span class=\"hljs-comment\">&lt;!--soul alibaba dubbo plugin start--&gt;</span>\n         <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.dromara<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>soul-spring-boot-starter-plugin-alibaba-dubbo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>2.2.0<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n          <span class=\"hljs-comment\">&lt;!-- soul  alibaba dubbo plugin end--&gt;</span>\n         <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.alibaba<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>dubbo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>2.6.5<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.apache.curator<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>curator-client<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>4.0.1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.apache.curator<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>curator-framework<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>4.0.1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.apache.curator<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>curator-recipes<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>4.0.1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n      \n</code></pre>\n<ul>\n<li>apache dubbo user, configure the dubbo version and registry center with yours.</li>\n</ul>\n<pre><code class=\"language-xml\">\n         <span class=\"hljs-comment\">&lt;!--soul apache dubbo plugin start--&gt;</span>\n         <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.dromara<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>soul-spring-boot-starter-plugin-apache-dubbo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>2.2.0<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n         <span class=\"hljs-comment\">&lt;!--soul apache dubbo plugin end--&gt;</span>\n\n         <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.apache.dubbo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>dubbo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>2.7.5<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n          <span class=\"hljs-comment\">&lt;!-- Dubbo Nacos registry dependency start --&gt;</span>\n         <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.apache.dubbo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>dubbo-registry-nacos<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>2.7.5<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.alibaba.nacos<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>nacos-client<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>1.1.4<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n         <span class=\"hljs-comment\">&lt;!-- Dubbo Nacos registry dependency  end--&gt;</span>\n\n         <span class=\"hljs-comment\">&lt;!-- Dubbo zookeeper registry dependency start--&gt;</span>\n         <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.apache.curator<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>curator-client<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>4.0.1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.apache.curator<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>curator-framework<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>4.0.1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.apache.curator<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>curator-recipes<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>4.0.1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n         <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n         <span class=\"hljs-comment\">&lt;!-- Dubbo zookeeper registry dependency end --&gt;</span>\n</code></pre>\n<ul>\n<li>restart gateway service.</li>\n</ul>\n<h2>dubbo integration with gateway,pls refer to : <a href=\"https://github.com/Dromara/soul/tree/master/soul-test/soul-test-dubbo\">soul-test-dubbo</a></h2>\n<ul>\n<li>\n<p>alibaba dubbo user</p>\n<ul>\n<li>\n<p>springboot</p>\n<ul>\n<li>Add these dependencies:</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<pre><code class=\"language-xml\">       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.dromara<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>soul-spring-boot-starter-client-alibaba-dubbo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>2.2.0<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n</code></pre>\n<ul>\n<li>Add these config values in your yaml file ：</li>\n</ul>\n<pre><code class=\"language-yaml\">   <span class=\"hljs-attr\">soul:</span>\n     <span class=\"hljs-attr\">dubbo:</span>\n       <span class=\"hljs-attr\">adminUrl:</span> <span class=\"hljs-string\">http://localhost:9095</span>\n       <span class=\"hljs-attr\">contextPath:</span> <span class=\"hljs-string\">/dubbo</span>\n       <span class=\"hljs-attr\">appName:</span> <span class=\"hljs-string\">dubbo</span>    \n      <span class=\"hljs-comment\"># adminUrl: 'ip + port' of your soul-admin project, pls note 'http://' is necessary.</span>\n      <span class=\"hljs-comment\"># contextPath: your project's route prefix through soul gateway, such as /order ，/product etc，gateway will route based on it.</span>\n      <span class=\"hljs-comment\"># appName：your project name,default value is the application name in dubbo config.</span>\n</code></pre>\n<ul>\n<li>\n<p>spring</p>\n<ul>\n<li>Add these dependencies：</li>\n</ul>\n</li>\n</ul>\n<pre><code class=\"language-xml\">      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.dromara<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>soul-client-alibaba-dubbo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>2.2.0<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n</code></pre>\n<ul>\n<li>Inject these properties into your Sping beans XML file：</li>\n</ul>\n<pre><code class=\"language-xml\">        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">bean</span> <span class=\"hljs-attr\">id</span> =<span class=\"hljs-string\">\"alibabaDubboServiceBeanPostProcessor\"</span> ,<span class=\"hljs-attr\">class</span> =<span class=\"hljs-string\">\"org.dromara.soul.client.alibaba.dubbo.AlibabaDubboServiceBeanPostProcessor\"</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">constructor-arg</span>  <span class=\"hljs-attr\">ref</span>=<span class=\"hljs-string\">\"dubboConfig\"</span>/&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">bean</span>&gt;</span>\n        \n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">bean</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"dubboConfig\"</span>, <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"org.dromara.soul.client.dubbo.common.config.DubboConfig\"</span>&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"adminUrl\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"http://localhost:9095\"</span>/&gt;</span>     \n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"contextPath\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"/你的contextPath\"</span>/&gt;</span>\n             <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"appName\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"你的名字\"</span>/&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">bean</span>&gt;</span>\n</code></pre>\n<ul>\n<li>\n<p>apache dubbo user</p>\n<ul>\n<li>\n<p>springboot</p>\n<ul>\n<li>add these dependencies:</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<pre><code class=\"language-xml\">       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.dromara<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>soul-spring-boot-starter-client-apache-dubbo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>2.2.0<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n</code></pre>\n<ul>\n<li>Add these config values in your yaml file ：</li>\n</ul>\n<pre><code class=\"language-yaml\">    <span class=\"hljs-attr\">soul:</span>\n      <span class=\"hljs-attr\">dubbo:</span>\n        <span class=\"hljs-attr\">adminUrl:</span> <span class=\"hljs-string\">http://localhost:9095</span>\n        <span class=\"hljs-attr\">contextPath:</span> <span class=\"hljs-string\">/dubbo</span>\n        <span class=\"hljs-attr\">appName:</span> <span class=\"hljs-string\">dubbo</span>\n   \n       <span class=\"hljs-comment\"># adminUrl: 'ip + port' of your soul-admin project, pls note 'http://' is necessary.</span>\n       <span class=\"hljs-comment\"># contextPath: your project's route prefix through soul gateway, such as /order ，/product etc，gateway will route based on it.</span>\n       <span class=\"hljs-comment\"># appName：your project name,default value is the application name in dubbo config.</span>\n</code></pre>\n<ul>\n<li>\n<p>spring</p>\n<ul>\n<li>Add these dependencies ：</li>\n</ul>\n<pre><code class=\"language-xml\">  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.dromara<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>soul-client-apache-dubbo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>2.2.0<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n   <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n</code></pre>\n</li>\n<li>\n<p>Injecct these properties into your Spring beans XML file ：</p>\n</li>\n</ul>\n<pre><code class=\"language-xml\">         <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">bean</span> <span class=\"hljs-attr\">id</span> =<span class=\"hljs-string\">\"apacheDubboServiceBeanPostProcessor\"</span> ,<span class=\"hljs-attr\">class</span> =<span class=\"hljs-string\">\"org.dromara.soul.client.apache.dubbo.ApacheDubboServiceBeanPostProcessor\"</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">constructor-arg</span>  <span class=\"hljs-attr\">ref</span>=<span class=\"hljs-string\">\"dubboConfig\"</span>/&gt;</span>\n         <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">bean</span>&gt;</span>\n         \n         <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">bean</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"dubboConfig\"</span>, <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"org.dromara.soul.client.dubbo.common.config.DubboConfig\"</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"adminUrl\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"http://localhost:9095\"</span>/&gt;</span>     \n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"contextPath\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"/your contextPath\"</span>/&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">property</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"appName\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"your application name\"</span>/&gt;</span>\n         <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">bean</span>&gt;</span>\n</code></pre>\n<h2>dubbo configuration</h2>\n<ul>\n<li>\n<p>firstly enable <code>dubbo</code> option in <code>soul-admin</code>.</p>\n</li>\n<li>\n<p>then configure your registry address in <code>dubbo</code>.</p>\n</li>\n</ul>\n<pre><code class=\"language-yaml\"><span class=\"hljs-string\">{\"register\":\"zookeeper://localhost:2181\"}</span>   <span class=\"hljs-string\">or</span> <span class=\"hljs-string\">{\"register\":\"nacos://localhost:8848\"}</span>\n\n</code></pre>\n<h2>configure the interface with gateway</h2>\n<ul>\n<li>\n<p>you can add the annotation <code>@SoulDubboClient</code> to your dubbo service implementation class, so that the interface method will be configured with gateway.</p>\n</li>\n<li>\n<p>start your provider and get the log <code>dubbo client register success</code>，then your dubbo interface has been added with soul gateway successfully.Pls refer to <code>soul-test-dubbo</code>\nproject.</p>\n</li>\n</ul>\n<h2>dubbo user request and parameter explanation.</h2>\n<ul>\n<li>\n<p>communicate with dubbo service through Http transport protocol.</p>\n</li>\n<li>\n<p>soul gateway need a route prefix which configured when accessing the project.</p>\n</li>\n</ul>\n<pre><code class=\"language-yaml\"><span class=\"hljs-comment\"># for example: you have an order service and it has a interface, his registry address: /order/test/save</span>\n\n<span class=\"hljs-comment\"># now we can communicate with gateway through POST request http://localhost:9195/order/test/save</span>\n\n<span class=\"hljs-comment\"># localhost:9195 is gateway's ip port，default port is 9195 ，/order is the contextPath you set through gateway.</span>\n\n</code></pre>\n<ul>\n<li>\n<p>parameter deliver：</p>\n<ul>\n<li>\n<p>communicate with gateway through body or json of http post request.</p>\n</li>\n<li>\n<p>more parameter types, pls refer to the interface definition in  <a href=\"https://github.com/Dromara/soul/tree/master/soul-test/soul-test-dubbo\">soul-test-dubbo</a> and parameter passing\nmethod.</p>\n</li>\n</ul>\n</li>\n<li>\n<p>Single java bean parameter type (defaulta).</p>\n</li>\n<li>\n<p>Multi-parameter type support, add this config value in gateway's yaml file:</p>\n</li>\n</ul>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">soul :</span>\n    <span class=\"hljs-attr\">dubbo :</span>\n      <span class=\"hljs-attr\">parameter:</span> <span class=\"hljs-string\">multi</span>\n</code></pre>\n<ul>\n<li>\n<p>Support for customized multi-parameter type</p>\n<ul>\n<li>create a new implementation class A in your gateway project of <code>org.dromara.soul.web.dubbo.DubboParamResolveService</code>.</li>\n</ul>\n</li>\n</ul>\n<pre><code class=\"language-java\">  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title\">DubboParamResolveService</span> </span>{\n  \n      <span class=\"hljs-comment\">/**\n       * Build parameter pair.\n       * this is Resolve http body to get dubbo param.\n       *\n       * <span class=\"hljs-doctag\">@param</span> body           the body\n       * <span class=\"hljs-doctag\">@param</span> parameterTypes the parameter types\n       * <span class=\"hljs-doctag\">@return</span> the pair\n       */</span>\n      Pair&lt;String[], Object[]&gt; buildParameter(String body, String parameterTypes);\n  }\n</code></pre>\n<ul>\n<li>\n<p><code>body</code> is the json string in http request.</p>\n</li>\n<li>\n<p><code>parameterTypes</code>: the list of method parameter types that are matched，split with <code>,</code>.</p>\n</li>\n<li>\n<p>in Pair，left is parmeter type，right is parameter value, it's the standard of dubbo generalization calls.</p>\n</li>\n<li>\n<p>Inject your class into Spring bean, cover the default implementation.</p>\n</li>\n</ul>\n<pre><code class=\"language-java\"> <span class=\"hljs-meta\">@Bean</span>\n <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> DubboParamResolveService <span class=\"hljs-title\">A</span><span class=\"hljs-params\">()</span> </span>{\n         <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> A();\n }\n</code></pre>\n<h2>Let's break down this process: http --&gt; gateway --&gt; dubbo provider</h2>\n<ul>\n<li>\n<p>It basically switches from HTTP request to Dubbo protocol，then invoke Dubbo service and return to the result.</p>\n</li>\n<li>\n<p>Two things need to notice after intgeration with gateway, one is the added annoation <code>@SoulDubboClient</code>, another is a path used to speicify the request path.</p>\n</li>\n<li>\n<p>And you added a config value of <code>contextPath</code>.</p>\n</li>\n<li>\n<p>If you still remember, then we can start.</p>\n</li>\n<li>\n<p>If you have a function like this, the config value in contextPath is <code>/dubbo</code></p>\n</li>\n</ul>\n<pre><code class=\"language-java\">    <span class=\"hljs-meta\">@Override</span>\n    @<span class=\"hljs-meta\">@SoulDubboClient</span>(path = <span class=\"hljs-string\">\"/insert\"</span>, desc = <span class=\"hljs-string\">\"insert data\"</span>)\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> DubboTest <span class=\"hljs-title\">insert</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">final</span> DubboTest dubboTest)</span> </span>{\n        <span class=\"hljs-keyword\">return</span> dubboTest;\n    }\n\n</code></pre>\n<ul>\n<li>\n<p>so our request path is: <a href=\"http://localhost:9195/dubbo/insert\">http://localhost:9195/dubbo/insert</a> ,localhost:9195 is the gateway's domain name,if you changed before,so does with yours here..</p>\n</li>\n<li>\n<p>how about the request parameter？<code>DubboTest</code> is a java bean object，has 2 parameters，id and name ，so we can transfer the value's json type through request body.</p>\n</li>\n</ul>\n<pre><code>{&quot;id&quot;:&quot;1234&quot;,&quot;name&quot;:&quot;XIAO5y&quot;}\n\n</code></pre>\n<ul>\n<li>if your interface has no parameter, then the value is:</li>\n</ul>\n<pre><code>{}\n\n</code></pre>\n<ul>\n<li>if your interface has multi-parameter, pls refer to the guide above.</li>\n</ul>\n",
  "link": "\\en-us\\docs\\soul\\user-dubbo.html",
  "meta": {
    "title": "Integrate dubbo with soul gateway",
    "keywords": "soul",
    "description": "Integrate dubbo with soul gateway"
  }
}