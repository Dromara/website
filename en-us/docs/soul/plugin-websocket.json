{
  "filename": "plugin-websocket.md",
  "__html": "<h2>Explanation</h2>\n<ul>\n<li>\n<p>Soul gateway also support proxy of websocket.</p>\n</li>\n<li>\n<p>In websocket support, divide plugin is used in it.</p>\n</li>\n</ul>\n<h2>Plugin Setting</h2>\n<ul>\n<li>\n<p>In <code>soul-admin</code> --&gt; plugin management --&gt; <code>divide</code>, set to enable.</p>\n</li>\n<li>\n<p>Introducing dependencies in the pom.xml file of the gateway</p>\n</li>\n</ul>\n<pre><code class=\"language-xml\">  <span class=\"hljs-comment\">&lt;!--if you use http proxy start this--&gt;</span>\n   <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.dromara<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>soul-spring-boot-starter-plugin-divide<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>${last.version}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n   <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n   <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.dromara<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>soul-spring-boot-starter-plugin-httpclient<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n       <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>${last.version}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n   <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n</code></pre>\n<h2>Request Path</h2>\n<ul>\n<li>When using soul proxy websocket, its request path is (example):<code>ws://localhost:9195/?module=ws&amp;method=/websocket&amp;rpcType=websocket</code>.</li>\n</ul>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">Detail:</span>\n<span class=\"hljs-number\">1.</span><span class=\"hljs-string\">localhost:8080</span> <span class=\"hljs-string\">Is</span> <span class=\"hljs-string\">the</span> <span class=\"hljs-string\">IP</span> <span class=\"hljs-string\">and</span> <span class=\"hljs-string\">port</span> <span class=\"hljs-string\">started</span> <span class=\"hljs-string\">by</span> <span class=\"hljs-string\">soul.</span>\n<span class=\"hljs-number\">2.</span><span class=\"hljs-string\">module（Required）:Value</span> <span class=\"hljs-string\">is</span> <span class=\"hljs-string\">the</span> <span class=\"hljs-string\">key</span> <span class=\"hljs-string\">that</span> <span class=\"hljs-string\">matching</span> <span class=\"hljs-string\">selector.</span>\n<span class=\"hljs-number\">3.</span><span class=\"hljs-string\">method</span> <span class=\"hljs-string\">（Parameter）:</span> <span class=\"hljs-string\">Your</span> <span class=\"hljs-string\">websocket</span> <span class=\"hljs-string\">path</span> <span class=\"hljs-string\">is</span> <span class=\"hljs-string\">also</span> <span class=\"hljs-string\">used</span> <span class=\"hljs-string\">as</span> <span class=\"hljs-string\">a</span> <span class=\"hljs-string\">matching</span> <span class=\"hljs-string\">rule.</span>\n<span class=\"hljs-number\">4.</span><span class=\"hljs-string\">rpcType</span> <span class=\"hljs-string\">：websocket</span> <span class=\"hljs-string\">must</span> <span class=\"hljs-string\">be</span> <span class=\"hljs-string\">filled</span> <span class=\"hljs-string\">in，and</span> <span class=\"hljs-string\">must</span> <span class=\"hljs-string\">be</span> <span class=\"hljs-string\">websocket</span>\n</code></pre>\n<ul>\n<li>Add a new configuration to the selector in the <code>divide</code> plugin, as follows</li>\n</ul>\n<p><img src=\"https://yu199195.github.io/images/soul/websocket-selector.png\" alt=\"\"></p>\n<ul>\n<li>Add a new rule in this selector:</li>\n</ul>\n<p><img src=\"https://yu199195.github.io/images/soul/websocket-rule.png\" alt=\"\"></p>\n<ul>\n<li>\n<p>In summary, pay attention to your path at this time <code>ws://localhost:9195/?module=ws&amp;method=/websocket&amp;rpcType=websocket</code>.</p>\n<p>It will be matched by your new selector rule, and then the real websocket address of the proxy is:<code>127.0.0.1:8080/websocket</code>,so that soul can proxy websocket.</p>\n<p>You can communicate with websocket service, it is actually very simple.</p>\n</li>\n<li>\n<p>I would like to add just one last word that you can decide the name and value of module and method by yourself as long as the selector and the rule can match, this is just an example,</p>\n</li>\n</ul>\n",
  "link": "/en-us/docs/soul/plugin-websocket.html",
  "meta": {
    "title": "plugin-websocket",
    "keywords": "soul",
    "description": "websocket plugin"
  }
}