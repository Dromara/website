{
  "filename": "config.md",
  "__html": "<h3>Configuration Detail：</h3>\n<ul>\n<li>\n<p>File Name: <code>hmily.yml</code>。</p>\n</li>\n<li>\n<p>Path： The default path is the <code>resource</code> directory of the project, which can be specified by <code>-Dhmily.conf</code>, and you can also put the configuration in <code>user.dir</code> directory.\nPriority: <code>-Dhmily.conf</code> &gt; <code>user.dir</code> &gt; <code>resource</code></p>\n</li>\n</ul>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">hmily:</span>\n  <span class=\"hljs-attr\">server:</span>\n    <span class=\"hljs-attr\">configMode:</span> <span class=\"hljs-string\">local</span>\n    <span class=\"hljs-attr\">appName:</span> <span class=\"hljs-string\">xiaoyu</span>  \n  <span class=\"hljs-comment\">#  The following configuration will be read when server.configMode equals local</span>\n  <span class=\"hljs-attr\">config:</span>\n    <span class=\"hljs-attr\">appName:</span> <span class=\"hljs-string\">xiaoyu</span>\n    <span class=\"hljs-attr\">serializer:</span> <span class=\"hljs-string\">kryo</span>\n    <span class=\"hljs-attr\">contextTransmittalMode:</span> <span class=\"hljs-string\">threadLocal</span>\n    <span class=\"hljs-attr\">scheduledThreadMax:</span> <span class=\"hljs-number\">16</span>\n    <span class=\"hljs-attr\">scheduledRecoveryDelay:</span> <span class=\"hljs-number\">60</span>\n    <span class=\"hljs-attr\">scheduledCleanDelay:</span> <span class=\"hljs-number\">60</span>\n    <span class=\"hljs-attr\">scheduledPhyDeletedDelay:</span> <span class=\"hljs-number\">600</span>\n    <span class=\"hljs-attr\">scheduledInitDelay:</span> <span class=\"hljs-number\">30</span>\n    <span class=\"hljs-attr\">recoverDelayTime:</span> <span class=\"hljs-number\">60</span>\n    <span class=\"hljs-attr\">cleanDelayTime:</span> <span class=\"hljs-number\">180</span>\n    <span class=\"hljs-attr\">limit:</span> <span class=\"hljs-number\">200</span>\n    <span class=\"hljs-attr\">retryMax:</span> <span class=\"hljs-number\">10</span>\n    <span class=\"hljs-attr\">bufferSize:</span> <span class=\"hljs-number\">8192</span>\n    <span class=\"hljs-attr\">consumerThreads:</span> <span class=\"hljs-number\">16</span>\n    <span class=\"hljs-attr\">asyncRepository:</span> <span class=\"hljs-literal\">true</span>\n    <span class=\"hljs-attr\">autoSql:</span> <span class=\"hljs-literal\">true</span>\n    <span class=\"hljs-attr\">phyDeleted:</span> <span class=\"hljs-literal\">true</span>\n    <span class=\"hljs-attr\">storeDays:</span> <span class=\"hljs-number\">3</span>\n    <span class=\"hljs-attr\">repository:</span> <span class=\"hljs-string\">mysql</span>\n\n<span class=\"hljs-attr\">repository:</span>\n  <span class=\"hljs-attr\">database:</span>\n    <span class=\"hljs-attr\">driverClassName:</span> <span class=\"hljs-string\">com.mysql.jdbc.Driver</span>\n    <span class=\"hljs-attr\">url :</span>\n    <span class=\"hljs-attr\">username:</span>\n    <span class=\"hljs-attr\">password:</span>\n    <span class=\"hljs-attr\">maxActive:</span> <span class=\"hljs-number\">20</span>\n    <span class=\"hljs-attr\">minIdle:</span> <span class=\"hljs-number\">10</span>\n    <span class=\"hljs-attr\">connectionTimeout:</span> <span class=\"hljs-number\">30000</span>\n    <span class=\"hljs-attr\">idleTimeout:</span> <span class=\"hljs-number\">600000</span>\n    <span class=\"hljs-attr\">maxLifetime:</span> <span class=\"hljs-number\">1800000</span>\n  <span class=\"hljs-attr\">file:</span>\n    <span class=\"hljs-attr\">path:</span>\n    <span class=\"hljs-attr\">prefix:</span> <span class=\"hljs-string\">/hmily</span>\n  <span class=\"hljs-attr\">mongo:</span>\n    <span class=\"hljs-attr\">databaseName:</span>\n    <span class=\"hljs-attr\">url:</span>\n    <span class=\"hljs-attr\">userName:</span>\n    <span class=\"hljs-attr\">password:</span>\n  <span class=\"hljs-attr\">zookeeper:</span>\n    <span class=\"hljs-attr\">host:</span> <span class=\"hljs-string\">localhost:2181</span>\n    <span class=\"hljs-attr\">sessionTimeOut:</span> <span class=\"hljs-number\">1000</span>\n    <span class=\"hljs-attr\">rootPath:</span> <span class=\"hljs-string\">/hmily</span>\n  <span class=\"hljs-attr\">redis:</span>\n    <span class=\"hljs-attr\">cluster:</span> <span class=\"hljs-literal\">false</span>\n    <span class=\"hljs-attr\">sentinel:</span> <span class=\"hljs-literal\">false</span>\n    <span class=\"hljs-attr\">clusterUrl:</span>\n    <span class=\"hljs-attr\">sentinelUrl:</span>\n    <span class=\"hljs-attr\">masterName:</span>\n    <span class=\"hljs-attr\">hostName:</span>\n    <span class=\"hljs-attr\">port:</span>\n    <span class=\"hljs-attr\">password:</span>\n    <span class=\"hljs-attr\">maxTotal:</span> <span class=\"hljs-number\">8</span>\n    <span class=\"hljs-attr\">maxIdle:</span> <span class=\"hljs-number\">8</span>\n    <span class=\"hljs-attr\">minIdle:</span> <span class=\"hljs-number\">2</span>\n    <span class=\"hljs-attr\">maxWaitMillis:</span> <span class=\"hljs-number\">-1</span>\n    <span class=\"hljs-attr\">minEvictableIdleTimeMillis:</span> <span class=\"hljs-number\">1800000</span>\n    <span class=\"hljs-attr\">softMinEvictableIdleTimeMillis:</span> <span class=\"hljs-number\">1800000</span>\n    <span class=\"hljs-attr\">numTestsPerEvictionRun:</span> <span class=\"hljs-number\">3</span>\n    <span class=\"hljs-attr\">testOnCreate:</span> <span class=\"hljs-literal\">false</span>\n    <span class=\"hljs-attr\">testOnBorrow:</span> <span class=\"hljs-literal\">false</span>\n    <span class=\"hljs-attr\">testOnReturn:</span> <span class=\"hljs-literal\">false</span>\n    <span class=\"hljs-attr\">testWhileIdle:</span> <span class=\"hljs-literal\">false</span>\n    <span class=\"hljs-attr\">timeBetweenEvictionRunsMillis:</span> <span class=\"hljs-number\">-1</span>\n    <span class=\"hljs-attr\">blockWhenExhausted:</span> <span class=\"hljs-literal\">true</span>\n    <span class=\"hljs-attr\">timeOut:</span> <span class=\"hljs-number\">1000</span>\n\n<span class=\"hljs-attr\">metrics:</span>\n  <span class=\"hljs-attr\">metricsName:</span> <span class=\"hljs-string\">prometheus</span>\n  <span class=\"hljs-attr\">host:</span>\n  <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">9091</span>\n  <span class=\"hljs-attr\">async:</span> <span class=\"hljs-literal\">true</span>\n  <span class=\"hljs-attr\">threadCount :</span> <span class=\"hljs-number\">16</span>\n  <span class=\"hljs-attr\">jmxConfig:</span>\n</code></pre>\n<h3>Hmily.server Configuration</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Name</th>\n<th style=\"text-align:left\">Type</th>\n<th style=\"text-align:center\">Default</th>\n<th style=\"text-align:center\">Required</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">configMode</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">local</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">Configuration mode supports local,zookeeper,nacos, and apollo now. If configuration is local, it will read the configuration from yml file;If the configuration is other modes, it will get the configuration form configuration centre.</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">appName</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">Application name. AppName will be overwritten if also configured in hmilyConfig.</td>\n</tr>\n</tbody>\n</table>\n<h3>Hmily.config Configuration</h3>\n<ul>\n<li>This is the core configuration of the whole framework</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Name</th>\n<th style=\"text-align:left\">Type</th>\n<th style=\"text-align:center\">Default</th>\n<th style=\"text-align:center\">Required</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">appName</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">It filled in your Microservices application's name generally, but don't repeat it</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">serializer</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">kryo</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">This is mode of serializing the specified transaction log，and currently supports filling in <code>kryo</code>, <code>hessian</code>, <code>jdk</code>, <code>jdk</code>, <code>protostuff</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">contextTransmittalMode</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">threadLocal</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">This is the mode of transaction context transfer, and currently supports filling in <code>threadLocal</code>, <code>transmittable</code> (Cross-thread mode)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">scheduledThreadMax</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">CPU * 2</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Maximum number of scheduled threads</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">scheduledRecoveryDelay</td>\n<td style=\"text-align:left\">int(unit:sec)</td>\n<td style=\"text-align:center\">60</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Scheduling cycle of auto recovering transaction log</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">scheduledCleanDelay</td>\n<td style=\"text-align:left\">int(unit:sec)</td>\n<td style=\"text-align:center\">60</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Scheduling cycle of cleaning transaction log</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">scheduledPhyDeletedDelay</td>\n<td style=\"text-align:left\">int(unit:sec)</td>\n<td style=\"text-align:center\">60</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Scheduling cycle of deleting transaction log</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">scheduledInitDelay</td>\n<td style=\"text-align:left\">int(unit:sec)</td>\n<td style=\"text-align:center\">30</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Delay time of starting scheduled task</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">recoverDelayTime</td>\n<td style=\"text-align:left\">int(unit:sec)</td>\n<td style=\"text-align:center\">60</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Delay time of recovering transaction log</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">cleanDelayTime</td>\n<td style=\"text-align:left\">int(unit:sec)</td>\n<td style=\"text-align:center\">60</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Delay time of cleaning  transaction log</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">limit</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">100</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Transaction log row size</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">retryMax</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">10</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Maximum number of retries</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">bufferSize</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">4096 * 2 * 2</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Buffer size of disruptor</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">consumerThreads</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">CPU * 2</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">The number of consumer thread of disruptor</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">asyncRepository</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Whether to store the transaction log asynchronously or not; If set to false, it will be synchronous</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">autoSql</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Whether automatically execute the SQL statement to create databases and tables （If they have been created, you can set false）</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">phyDeleted</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">In running time，whether delete logs physically. Setting false will change the state of log.</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">storeDays</td>\n<td style=\"text-align:left\">int(unit:day)</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">If phyDeleted set false，storeDays means days of storage</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">repository</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">mysql</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">This is specified storage mode of transaction log，and currently supports filling in <code>mysql</code>, <code>oracle</code>, <code>postgresql</code>, <code>sqlserver</code>, <code>mongo</code>, <code>redis</code>, <code>file</code></td>\n</tr>\n</tbody>\n</table>\n<h3>Repository Configuration</h3>\n<p>Repository is a configuration for storing transaction logs by Hmily, and currently supports: database(mysql, oracle, postgresql, sqlserver), file(dev, test, prod), mongodb, zookeeper, redis.</p>\n<ul>\n<li>database configuration(The default pool is hikari):</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Name</th>\n<th style=\"text-align:left\">Type</th>\n<th style=\"text-align:center\">Default</th>\n<th style=\"text-align:center\">Required</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">driverClassName</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">com.mysql.jdbc.Driver</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">driver name of your connection</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">url</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">url connection of your database</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">username</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">username of your database</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">password</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">password of your database</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">maxActive</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">20</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Maximum active number of connections of pool</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">minIdle</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">10</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Minimum idle number of connections of pool</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">connectionTimeout</td>\n<td style=\"text-align:left\">long</td>\n<td style=\"text-align:center\">30000</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">A timeout of connecting to your database</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">idleTimeout</td>\n<td style=\"text-align:left\">long</td>\n<td style=\"text-align:center\">60000</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Maximum time(ms) of a idle connection，it will be retired when timeout，default:10 minutes</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">maxLifetime</td>\n<td style=\"text-align:left\">long</td>\n<td style=\"text-align:center\">1800000</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Maximum lifespan of a connection(ms)，it will be retired when it is timeout and don't be used，default:30 minutes; Suggest less 30 sec than timeout of database, please refer to MySQL wait_timeout parameter（show variables like '%timeout%';</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">idleTimeout</td>\n<td style=\"text-align:left\">long</td>\n<td style=\"text-align:center\">60000</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Maximum time(ms) of timeout ，it will be retired when timeout，default:10 minutes</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dataSourcePropertyMap</td>\n<td style=\"text-align:left\">Map&lt;String,Object&gt;</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">The other property configuration of hikari</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>mongo configuration:</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Name</th>\n<th style=\"text-align:left\">Type</th>\n<th style=\"text-align:center\">Default</th>\n<th style=\"text-align:center\">Required</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">databaseName</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">mongo name</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">url</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">mongo url</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">userName</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">mongo username</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">password</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">mongo password</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>file configuration:</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Name</th>\n<th style=\"text-align:left\">Type</th>\n<th style=\"text-align:center\">Default</th>\n<th style=\"text-align:center\">Required</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">path</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">the storage path to the file</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">prefix</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">prefix of file storage</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>zookeeper configuration:</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">name</th>\n<th style=\"text-align:left\">Type</th>\n<th style=\"text-align:center\">Default</th>\n<th style=\"text-align:center\">Required</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">host</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">localhost:2181</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">zookeeper service ip and port</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">sessionTimeOut</td>\n<td style=\"text-align:left\">int(ms)</td>\n<td style=\"text-align:center\">1000</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">the timeout of session</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">rootPath</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">/hmily</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">root storage path</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>redis configuration:</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Name</th>\n<th style=\"text-align:left\">Type</th>\n<th style=\"text-align:center\">Default</th>\n<th style=\"text-align:center\">Required</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">cluster</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:center\">false</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Is it cluster?</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">sentinel</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:center\">false</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Is it sentinel mode?</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">clusterUrl</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Cluster url，multiple nodes use <code>;</code> to separate</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">sentinelUrl</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Sentinel url，multiple nodes use <code>;</code> to separate</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">masterName</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Main node name, and it can be empty if no setting</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">hostName</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">Redis host in redis standalone mode</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">port</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">Redis port in standalone mode</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">password</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">Password of redis service</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">maxTotal</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">8</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Maximum number of connections</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">maxIdle</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">8</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Maximum number of idle connections</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">minIdle</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Minimum number of idle connections</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">maxWaitMillis</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">-1</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">When connections of the resource pool is exhausted, the maximum wait time of caller (ms); -1：never timeout, don't suggest setting it</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">minEvictableIdleTimeMillis</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">1800000</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Minimum idle time of resource pool (ms)，idle resource will be removed when reaching to the value;The default is 1000*60 *30 = 30 minutes</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">softMinEvictableIdleTimeMillis</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">1800000</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">How long evicted idle object, when idle time &gt; the value and idle connection numbers &gt; maximum idle connections, it will be evicted directly, no longer based on MinEvictableIdleTimeMillis to judge  (Default eviction policy)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">numTestsPerEvictionRun</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Maximum number of evictions at each eviction check; If it is negative, it is : 1/abs(n), the default is 3</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">timeBetweenEvictionRunsMillis</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">-1</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Time interval of eviction scan (milliseconds) If it is negative, the eviction thread will not run, and the default is -1</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">timeOut</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">1000</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">timeout</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">testOnCreate</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:center\">false</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Is the validity verified when obtaining the connection</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">testOnBorrow</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:center\">false</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Whether process alidate operation in advance when borrow a jedis instance; If it is true，the returned jedis instances are all avaiable</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">testOnReturn</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:center\">false</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Whether process validate operation in advance before return to pool</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">testWhileIdle</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:center\">false</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">If it is true，it means there is a idle object evitor thread that is scanning idle object; If validate fail，the object will be dropped from pool;This item only take effect when timeBetweenEvictionRunsMillis is greater than 0</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">blockWhenExhausted</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Whether block the connection when resource is exhausted, false will throw exception, true will block until timeout</td>\n</tr>\n</tbody>\n</table>\n<h3>Metrics Configuration</h3>\n<p>Metrics will record call numbers, runtime, transaction submission and failure in the runtime of the hmily framework，only supports <code>prometheus</code> currently.</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Name</th>\n<th style=\"text-align:left\">Type</th>\n<th style=\"text-align:center\">Default</th>\n<th style=\"text-align:center\">Required</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">metricsName</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">prometheus</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">Supported type，only supports prometheus currently</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">host</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">localhost</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Exposed http services host;</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">port</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">9091</td>\n<td style=\"text-align:center\">yes</td>\n<td style=\"text-align:left\">Exposed http services port;</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">async</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Asynchronous mode record or not</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">threadCount</td>\n<td style=\"text-align:left\">int</td>\n<td style=\"text-align:center\">2 * cpu</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">Number of threads in asynchronous mode</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">jmxConfig</td>\n<td style=\"text-align:left\">String</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">no</td>\n<td style=\"text-align:left\">jmxConfig configuration，is a json format，and please refer to prometheus official website for details</td>\n</tr>\n</tbody>\n</table>\n",
  "link": "\\en-us\\docs\\hmily\\config.html",
  "meta": {
    "title": "Hmily-Config",
    "keywords": "configuration",
    "description": "Hmily Configuration Detail"
  }
}