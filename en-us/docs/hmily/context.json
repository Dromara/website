{
  "filename": "context.md",
  "__html": "<h3>Hmily Transaction Context</h3>\n<pre><code class=\"language-java\"><span class=\"hljs-meta\">@Data</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">HmilyTransactionContext</span> </span>{\n    \n    <span class=\"hljs-comment\">/**\n     * transId.\n     */</span>\n    <span class=\"hljs-keyword\">private</span> Long transId;\n    \n    <span class=\"hljs-comment\">/**\n     * participant id.\n     */</span>\n    <span class=\"hljs-keyword\">private</span> Long participantId;\n    \n    <span class=\"hljs-comment\">/**\n     * participant ref id.\n     */</span>\n    <span class=\"hljs-keyword\">private</span> Long participantRefId;\n    \n    <span class=\"hljs-comment\">/**\n     * this hmily action.\n     */</span>\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">int</span> action;\n    \n    <span class=\"hljs-comment\">/**\n     * Transaction Participant Role.\n     */</span>\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">int</span> role;\n    \n    <span class=\"hljs-comment\">/**\n     * transType.\n     */</span>\n    <span class=\"hljs-keyword\">private</span> String transType;\n}\n</code></pre>\n<p><code>HmilyTransactionContext</code> is the core class used by the Hmily distributed transaction framework to pass the transaction context when making RPC calls.\nit was stored in 'ThreadLocal' by default and then do RPC parameter passing. You can also configure it to the scenarios that use thread context switching.\nthe <code>contextTransmittalMode = transmittable</code> should be specified in the configuration at this point, then the Alibaba opensource library will be used.</p>\n<pre><code class=\"language-xml\">   <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.alibaba<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>transmittable-thread-local<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>2.11.5<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n   <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n</code></pre>\n<h1>Passing Transaction Context with Dubbo</h1>\n<p>The concrete implementation class was in the <code>org.dromara.hmily.dubbo.filter.DubboHmilyTransactionFilter</code> class.，\nPlease do RPC parameter passing through the <code>RpcContext.getContext().setAttachment(String key, String value)</code>.</p>\n<h1>Passing Transaction Context with Motan</h1>\n<p>The concrete implementation class was in the <code>org.dromara.hmily.motan.filter.MotanHmilyTransactionFilter</code> class.，\nPlease do RPC parameter passing through the <code>Request.setAttachment(String key, String value)</code>.</p>\n<h1>Passing Transaction Context with Spring Cloud</h1>\n<p>The concrete implementation class was in the <code>org.dromara.hmily.springcloud.feign.HmilyFeignInterceptor</code> class.，\nPlease do RPC parameter passing through the <code>RequestTemplate.header(String name, String... values)</code>.</p>\n",
  "link": "/en-us/docs/hmily/context.html",
  "meta": {
    "title": "Hmily Transaction Context",
    "keywords": "Hmily-Context",
    "description": "Hmily Transaction Context"
  }
}